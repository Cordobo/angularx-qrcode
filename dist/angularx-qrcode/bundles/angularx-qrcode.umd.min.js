!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common"),require("qrcode")):"function"==typeof define&&define.amd?define("angularx-qrcode",["exports","@angular/core","@angular/common","qrcode"],t):t((e=e||self)["angularx-qrcode"]={},e.ng.core,e.ng.common,e.qrcode)}(this,(function(e,t,r,o){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function n(e,t,r,o){var n,i=arguments.length,a=i<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,r,o);else for(var l=e.length-1;l>=0;l--)(n=e[l])&&(a=(i<3?n(a):i>3?n(t,r,a):n(t,r))||a);return i>3&&a&&Object.defineProperty(t,r,a),a}function i(e){var t="function"==typeof Symbol&&e[Symbol.iterator],r=0;return t?t.call(e):{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}var a=function(){function e(e,t){var r=this;this.renderer=e,this.platformId=t,this.colordark="",this.colorlight="",this.level="",this.hidetitle=!1,this.size=0,this.usesvg=!1,this.allowEmptyString=!1,this.qrdata="",this.colorDark="#000000ff",this.colorLight="#ffffffff",this.cssClass="qrcode",this.elementType="canvas",this.errorCorrectionLevel="M",this.margin=4,this.scale=4,this.width=10,this.alt=null,this.ariaLabel=null,this.title=null,this.qrcode=null,this.isValidQrCodeText=function(e){return!1===r.allowEmptyString?!(void 0===e||""===e||"null"===e||null===e):!(void 0===e)},""!==this.colordark&&console.warn("[angularx-qrcode] colordark is deprecated, use colorDark."),""!==this.colorlight&&console.warn("[angularx-qrcode] colorlight is deprecated, use colorLight."),""!==this.level&&console.warn("[angularx-qrcode] level is deprecated, use errorCorrectionLevel."),!1!==this.hidetitle&&console.warn("[angularx-qrcode] hidetitle is deprecated."),0!==this.size&&console.warn("[angularx-qrcode] size is deprecated, use `width`. Defaults to 10."),!1!==this.usesvg&&console.warn("[angularx-qrcode] usesvg is deprecated, use [elementType]=\"'img'\".")}var a,l;return e.prototype.ngAfterViewInit=function(){r.isPlatformServer(this.platformId)||this.createQRCode()},e.prototype.ngOnChanges=function(){this.createQRCode()},e.prototype.toDataURL=function(){var e=this;return new Promise((function(t,r){o.toDataURL(e.qrdata,{color:{dark:e.colorDark,light:e.colorLight},errorCorrectionLevel:e.errorCorrectionLevel,margin:e.margin,scale:e.scale,version:e.version,width:e.width},(function(e,o){e?r(e):t(o)}))}))},e.prototype.toCanvas=function(e){var t=this;return new Promise((function(r,n){o.toCanvas(e,t.qrdata,{color:{dark:t.colorDark,light:t.colorLight},errorCorrectionLevel:t.errorCorrectionLevel,margin:t.margin,scale:t.scale,version:t.version,width:t.width},(function(e){e?n(e):r("success")}))}))},e.prototype.toSVG=function(){var e=this;return new Promise((function(t,r){o.toString(e.qrdata,{color:{dark:e.colorDark,light:e.colorLight},errorCorrectionLevel:e.errorCorrectionLevel,margin:e.margin,scale:e.scale,type:"svg",version:e.version,width:e.width},(function(e,o){e?r(e):t(o)}))}))},e.prototype.renderElement=function(e){var t,r;try{for(var o=i(this.qrcElement.nativeElement.childNodes),n=o.next();!n.done;n=o.next()){var a=n.value;this.renderer.removeChild(this.qrcElement.nativeElement,a)}}catch(e){t={error:e}}finally{try{n&&!n.done&&(r=o.return)&&r.call(o)}finally{if(t)throw t.error}}this.renderer.appendChild(this.qrcElement.nativeElement,e)},e.prototype.createQRCode=function(){var e=this;this.version&&this.version>40?(console.warn("[angularx-qrcode] max value for `version` is 40"),this.version=40):this.version&&this.version<1?(console.warn("[angularx-qrcode]`min value for `version` is 1"),this.version=1):void 0!==this.version&&isNaN(this.version)&&(console.warn("[angularx-qrcode] version should be a number, defaulting to auto"),this.version=void 0);try{if(!this.isValidQrCodeText(this.qrdata))throw new Error("[angularx-qrcode] Field `qrdata` is empty");var t;switch(this.elementType){case"canvas":t=this.renderer.createElement("canvas"),this.toCanvas(t).then((function(){e.ariaLabel&&e.renderer.setAttribute(t,"aria-label",""+e.ariaLabel),e.title&&e.renderer.setAttribute(t,"title",""+e.title),e.renderElement(t)})).catch((function(e){console.error("[angularx-qrcode] canvas error: ",e)}));break;case"svg":t=this.renderer.createElement("svg","svg"),this.toSVG().then((function(r){t.innerHTML=r,e.renderer.setAttribute(t,"height",""+e.width),e.renderer.setAttribute(t,"width",""+e.width),e.renderElement(t)})).catch((function(e){console.error("[angularx-qrcode] svg error: ",e)}));break;case"url":case"img":default:t=this.renderer.createElement("img"),this.toDataURL().then((function(r){e.alt&&t.setAttribute("alt",e.alt),e.ariaLabel&&t.setAttribute("aria-label",e.ariaLabel),t.setAttribute("src",r),e.title&&t.setAttribute("title",e.title),e.renderElement(t)})).catch((function(e){console.error("[angularx-qrcode] img/url error: ",e)}))}}catch(e){console.error("[angularx-qrcode] Error generating QR Code: ",e.message)}},e.ctorParameters=function(){return[{type:t.Renderer2},{type:void 0,decorators:[{type:t.Inject,args:[t.PLATFORM_ID]}]}]},n([t.Input()],e.prototype,"colordark",void 0),n([t.Input()],e.prototype,"colorlight",void 0),n([t.Input()],e.prototype,"level",void 0),n([t.Input()],e.prototype,"hidetitle",void 0),n([t.Input()],e.prototype,"size",void 0),n([t.Input()],e.prototype,"usesvg",void 0),n([t.Input()],e.prototype,"allowEmptyString",void 0),n([t.Input()],e.prototype,"qrdata",void 0),n([t.Input()],e.prototype,"colorDark",void 0),n([t.Input()],e.prototype,"colorLight",void 0),n([t.Input()],e.prototype,"cssClass",void 0),n([t.Input()],e.prototype,"elementType",void 0),n([t.Input()],e.prototype,"errorCorrectionLevel",void 0),n([t.Input()],e.prototype,"margin",void 0),n([t.Input()],e.prototype,"scale",void 0),n([t.Input()],e.prototype,"version",void 0),n([t.Input()],e.prototype,"width",void 0),n([t.Input()],e.prototype,"alt",void 0),n([t.Input()],e.prototype,"ariaLabel",void 0),n([t.Input()],e.prototype,"title",void 0),n([t.ViewChild("qrcElement",{static:!0})],e.prototype,"qrcElement",void 0),e=n([t.Component({selector:"qrcode",changeDetection:t.ChangeDetectionStrategy.OnPush,template:'<div #qrcElement [class]="cssClass"></div>'}),(a=1,l=t.Inject(t.PLATFORM_ID),function(e,t){l(e,t,a)})],e)}(),l=function(){function e(){}return e=n([t.NgModule({providers:[],declarations:[a],exports:[a]})],e)}();e.QRCodeComponent=a,e.QRCodeModule=l,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=angularx-qrcode.umd.min.js.map