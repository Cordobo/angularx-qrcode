!function(e,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("@angular/core"),require("@angular/common"),require("qrcode")):"function"==typeof define&&define.amd?define("angularx-qrcode",["exports","@angular/core","@angular/common","qrcode"],r):r((e=e||self)["angularx-qrcode"]={},e.ng.core,e.ng.common,e.qrcode)}(this,(function(e,r,t,o){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */function n(e,r,t,o){var n,i=arguments.length,a=i<3?r:null===o?o=Object.getOwnPropertyDescriptor(r,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,r,t,o);else for(var s=e.length-1;s>=0;s--)(n=e[s])&&(a=(i<3?n(a):i>3?n(r,t,a):n(r,t))||a);return i>3&&a&&Object.defineProperty(r,t,a),a}function i(e){var r="function"==typeof Symbol&&e[Symbol.iterator],t=0;return r?r.call(e):{next:function(){return e&&t>=e.length&&(e=void 0),{value:e&&e[t++],done:!e}}}}var a=function(){function e(e,r){var t=this;this.renderer=e,this.platformId=r,this.colordark="",this.colorlight="",this.level="",this.hidetitle=!1,this.size=0,this.usesvg=!1,this.allowEmptyString=!1,this.qrdata="",this.colorDark="#000000ff",this.colorLight="#ffffffff",this.cssClass="qrcode",this.elementType="canvas",this.errorCorrectionLevel="M",this.margin=4,this.scale=4,this.width=10,this.qrcode=null,this.isValidQrCodeText=function(e){return!1===t.allowEmptyString?!(void 0===e||""===e||"null"===e||null===e):!(void 0===e)},""!==this.colordark&&console.warn("[angularx-qrcode] colordark is deprecated, use colorDark."),""!==this.colorlight&&console.warn("[angularx-qrcode] colorlight is deprecated, use colorLight."),""!==this.level&&console.warn("[angularx-qrcode] level is deprecated, use errorCorrectionLevel."),!1!==this.hidetitle&&console.warn("[angularx-qrcode] hidetitle is deprecated."),0!==this.size&&console.warn("[angularx-qrcode] size is deprecated, use `width`. Defaults to 10."),!1!==this.usesvg&&console.warn("[angularx-qrcode] usesvg is deprecated, use [elementType]=\"'img'\".")}var a,s;return e.prototype.ngAfterViewInit=function(){t.isPlatformServer(this.platformId)||this.createQRCode()},e.prototype.ngOnChanges=function(){this.createQRCode()},e.prototype.toDataURL=function(){var e=this;return new Promise((function(r,t){o.toDataURL(e.qrdata,{color:{dark:e.colorDark,light:e.colorLight},errorCorrectionLevel:e.errorCorrectionLevel,margin:e.margin,scale:e.scale,version:e.version,width:e.width},(function(e,o){e?t(e):r(o)}))}))},e.prototype.toCanvas=function(e){var r=this;return new Promise((function(t,n){o.toCanvas(e,r.qrdata,{color:{dark:r.colorDark,light:r.colorLight},errorCorrectionLevel:r.errorCorrectionLevel,margin:r.margin,scale:r.scale,version:r.version,width:r.width},(function(e){e?n(e):t("success")}))}))},e.prototype.toSVG=function(){var e=this;return new Promise((function(r,t){o.toString(e.qrdata,{color:{dark:e.colorDark,light:e.colorLight},errorCorrectionLevel:e.errorCorrectionLevel,margin:e.margin,scale:e.scale,type:"svg",version:e.version,width:e.width},(function(e,o){e?t(e):r(o)}))}))},e.prototype.renderElement=function(e){var r,t;try{for(var o=i(this.qrcElement.nativeElement.childNodes),n=o.next();!n.done;n=o.next()){var a=n.value;this.renderer.removeChild(this.qrcElement.nativeElement,a)}}catch(e){r={error:e}}finally{try{n&&!n.done&&(t=o.return)&&t.call(o)}finally{if(r)throw r.error}}this.renderer.appendChild(this.qrcElement.nativeElement,e)},e.prototype.createQRCode=function(){var e=this;this.version&&this.version>40?(console.warn("[angularx-qrcode] max value for `version` is 40"),this.version=40):this.version&&this.version<1?(console.warn("[angularx-qrcode]`min value for `version` is 1"),this.version=1):void 0!==this.version&&isNaN(this.version)&&(console.warn("[angularx-qrcode] version should be a number, defaulting to auto"),this.version=void 0);try{if(!this.isValidQrCodeText(this.qrdata))throw new Error("[angularx-qrcode] Field `qrdata` is empty");var r;switch(this.elementType){case"canvas":r=this.renderer.createElement("canvas"),this.toCanvas(r).then((function(){e.renderElement(r)})).catch((function(e){console.error("[angularx-qrcode] canvas error: ",e)}));break;case"svg":r=this.renderer.createElement("svg","svg"),this.toSVG().then((function(t){r.innerHTML=t,e.renderer.setAttribute(r,"height",""+e.width),e.renderer.setAttribute(r,"width",""+e.width),e.renderElement(r)})).catch((function(e){console.error("[angularx-qrcode] svg error: ",e)}));break;case"url":case"img":default:r=this.renderer.createElement("img"),this.toDataURL().then((function(t){r.setAttribute("src",t),e.renderElement(r)})).catch((function(e){console.error("[angularx-qrcode] img/url error: ",e)}))}}catch(e){console.error("[angularx-qrcode] Error generating QR Code: ",e.message)}},e.ctorParameters=function(){return[{type:r.Renderer2},{type:void 0,decorators:[{type:r.Inject,args:[r.PLATFORM_ID]}]}]},n([r.Input()],e.prototype,"colordark",void 0),n([r.Input()],e.prototype,"colorlight",void 0),n([r.Input()],e.prototype,"level",void 0),n([r.Input()],e.prototype,"hidetitle",void 0),n([r.Input()],e.prototype,"size",void 0),n([r.Input()],e.prototype,"usesvg",void 0),n([r.Input()],e.prototype,"allowEmptyString",void 0),n([r.Input()],e.prototype,"qrdata",void 0),n([r.Input()],e.prototype,"colorDark",void 0),n([r.Input()],e.prototype,"colorLight",void 0),n([r.Input()],e.prototype,"cssClass",void 0),n([r.Input()],e.prototype,"elementType",void 0),n([r.Input()],e.prototype,"errorCorrectionLevel",void 0),n([r.Input()],e.prototype,"margin",void 0),n([r.Input()],e.prototype,"scale",void 0),n([r.Input()],e.prototype,"version",void 0),n([r.Input()],e.prototype,"width",void 0),n([r.ViewChild("qrcElement",{static:!0})],e.prototype,"qrcElement",void 0),e=n([r.Component({selector:"qrcode",changeDetection:r.ChangeDetectionStrategy.OnPush,template:'<div #qrcElement [class]="cssClass"></div>'}),(a=1,s=r.Inject(r.PLATFORM_ID),function(e,r){s(e,r,a)})],e)}(),s=function(){function e(){}return e=n([r.NgModule({providers:[],declarations:[a],exports:[a]})],e)}();e.QRCodeComponent=a,e.QRCodeModule=s,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=angularx-qrcode.umd.min.js.map